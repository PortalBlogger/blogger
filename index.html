<!DOCTYPE html>
<html>
<head>
  <title>Blogger</title>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <script src="libs/jquery-1.11.1.js"></script>
  <script src="libs/handlebars-1.3.0.js"></script>
  <script src="libs/ember-1.6.1.js"></script>
  <script src="blogger.js"></script>
  <script src="router.js"></script>
  <script src="controllers/about.js"></script>
  <script src="controllers/contact.js"></script>
  <script src="controllers/post.js"></script>
  <script src="controllers/new-post.js"></script>
  <script src="data.js"></script>
  <script src="routes/posts.js"></script>
  <script src="routes/post.js"></script>
  <script src="routes/recent-comments.js"></script>
</head>
<body>
  <script type="text/x-handlebars" id="application">
    <div class="container">
      <nav class="navbar navbar-default" role="navigation">
        <ul class="nav navbar-nav">
          <li>{{#link-to 'posts'}}Posts{{/link-to}}</li>
          <li>{{#link-to 'recent-comments'}}Recent comments{{/link-to}}</li>
          <li>{{#link-to 'about'}}About{{/link-to}}</li>
          <li>{{#link-to 'contact'}}Contact{{/link-to}}</li>
        </ul>
      </nav>

      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" id="posts">
    <h1>THIS IS AN AWESOME BLOG</h1>

    <h2>
      Click a post. Any post.
    </h2>

    <ul>
      {{#each post in model}}
        <li>{{#link-to 'post' post}}{{post.title}}{{/link-to}}</li>
      {{/each}}
    </ul>

    {{#link-to 'new-post'}}<button class="btn btn-primary">New post</button>{{/link-to}}
  </script>

  <script type="text/x-handlebars" id="post">
    <h1>{{title}}</h1>

    {{#if isEditing}}
      <form>
        <div class="form-group">
          <label for="title">Title</label>
          {{input value=title id="title" class="form-control"}}
        </div>

        <div class="form-group">
          <label for="body">Body</label>
          {{textarea value=body id="body" class="form-control" rows="15"}}
        </div>

        <button class="btn btn-primary" {{action 'save'}}>Save</button>
      </form>
    {{else}}
      <p>{{body}}</p>

      <button class="btn btn-primary" {{action 'edit'}}>Edit</button>
    {{/if}}
  </script>

  <script type="text/x-handlebars" id="new-post">
    <h1>New post</h1>
    <form>
      <div class="form-group">
        <label for="title">Title</label>
        {{input value=title id="title" class="form-control"}}
      </div>

      <div class="form-group">
        <label for="body">Body</label>
        {{textarea value=body id="body" class="form-control" rows="15"}}
      </div>

      <button class="btn btn-primary" {{action 'save'}}>Save</button>
    </form>
  </script>

  <script type="text/x-handlebars" id="recent-comments">
    <h1>Recent comments</h1>

    {{#each comment in model}}
      <p>{{comment.text}}</p>
    {{/each}}
  </script>

  <script type="text/x-handlebars" id="about">
    <p>
      This is a blog with great ambitions.
    </p>

    {{#if isAuthorShowing}}
      <button class="btn" {{action 'hideAuthor'}}>Hide that scary face away :(</button>
      <p>
        The author is Dracula!!!
      </p>
      <p><img src="http://upload.wikimedia.org/wikipedia/commons/2/25/Dracula_1958_c.jpg"></p>
    {{else}}
      <p>
        Click here to find out who the real blog author is:
      </p>
      <button class="btn" {{action 'showAuthor'}}>Find out!</button>
    {{/if}}

  </script>

  <script type="text/x-handlebars" id="contact">
    <p>
      Want to get in touch?
      <ul>
        <li>{{#link-to 'phone'}}Phone{{/link-to}}</li>
        <li>{{#link-to 'email'}}Email{{/link-to}}</li>
      </ul>
    </p>

    <p>
      Or, click here to send a secret message:
    </p>

    <button class="btn" {{action 'sendMessage'}}>Send message</button>

    {{#if messageSent}}
      <p>
        Thank you. Your message has been sent.
        Your confirmation number is {{confirmationNumber}}.
      </p>
    {{/if}}

    {{outlet}}
  </script>

  <script type="text/x-handlebars" id="phone">
    <p>
      Call 1-900-AWESOME-BLOG.
    </p>
  </script>

  <script type="text/x-handlebars" id="email">
    <p>
      Email awesome@blog.com.
    </p>
  </script>
</body>
</html>
